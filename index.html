<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>SafeSpace</title>

<style>
body{
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg,#cfe9e5,#f4f7f6);
}

.container{
  max-width:420px;
  margin:auto;
  padding:20px;
}

.card{
  background:white;
  border-radius:18px;
  padding:20px;
  box-shadow:0 10px 25px rgba(0,0,0,0.1);
  margin-bottom:20px;
}

h1{
  text-align:center;
  color:#2f7f7f;
  margin-bottom:5px;
}

.subtitle{
  text-align:center;
  color:#666;
  font-size:14px;
}

label{
  font-weight:600;
  margin-top:10px;
  display:block;
}

input, select, textarea{
  width:100%;
  margin-top:6px;
  padding:12px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:14px;
}

textarea{ resize:none; }

button{
  width:100%;
  margin-top:15px;
  padding:14px;
  border:none;
  border-radius:14px;
  background:#4da6a6;
  color:white;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
}

button:hover{
  background:#3d8f8f;
}

.ai-box{
  margin-top:15px;
  background:#e8f5f2;
  padding:14px;
  border-radius:14px;
  color:#2c6e7f;
  font-size:14px;
}

.history h3{
  color:#2f7f7f;
  margin-bottom:10px;
}

.entry{
  background:#f9fefe;
  border-left:6px solid #4da6a6;
  padding:12px;
  border-radius:12px;
  margin-bottom:10px;
}

.date{
  font-weight:bold;
  color:#333;
}

.stress-low{ border-left-color:#5cb85c; }
.stress-mid{ border-left-color:#f0ad4e; }
.stress-high{ border-left-color:#d9534f; }

.note{
  font-size:13px;
  color:#555;
}
</style>
</head>

<body>

<div class="container">

  <div class="card">
    <h1>SafeSpace üå±</h1>
    <div class="subtitle">‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</div>

    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
    <input type="date" id="date">

    <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î</label>
    <select id="stress">
      <option value="‡∏ï‡πà‡∏≥">‡∏ï‡πà‡∏≥</option>
      <option value="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
      <option value="‡∏™‡∏π‡∏á">‡∏™‡∏π‡∏á</option>
    </select>

    <label>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏±‡πâ‡∏ô ‡πÜ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</label>
    <textarea id="note" rows="3" placeholder="‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á..."></textarea>

    <button onclick="save()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>

    <div id="ai" class="ai-box"></div>
  </div>

  <div class="card history">
    <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á</h3>
    <div id="list"></div>
  </div>

</div>

<script>
function aiSummary(level){
  if(level==="‡∏ï‡πà‡∏≥")
    return "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏ï‡πà‡∏≥ ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏π‡πÅ‡∏•‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ üòä";
  if(level==="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á")
    return "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏ö‡πâ‡∏≤‡∏á ‡∏•‡∏≠‡∏á‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢ üå§Ô∏è";
  return "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏™‡∏π‡∏á ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ô‡∏∞ ü§ç";
}

function save(){
  const date = document.getElementById("date").value;
  const stress = document.getElementById("stress").value;
  const note = document.getElementById("note").value;

  if(!date){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà");
    return;
  }

  const data = JSON.parse(localStorage.getItem("stressLog")) || [];
  data.push({date, stress, note});
  localStorage.setItem("stressLog", JSON.stringify(data));

  document.getElementById("ai").innerText =
    "AI ‡∏™‡∏£‡∏∏‡∏õ: " + aiSummary(stress);

  document.getElementById("note").value="";
  render();
}

function render(){
  const list = document.getElementById("list");
  list.innerHTML="";
  const data = JSON.parse(localStorage.getItem("stressLog")) || [];

  data.slice().reverse().forEach(d=>{
    let cls = d.stress==="‡∏ï‡πà‡∏≥"?"stress-low":
              d.stress==="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á"?"stress-mid":"stress-high";

    list.innerHTML += `
      <div class="entry ${cls}">
        <div class="date">${d.date} ‚Ä¢ ${d.stress}</div>
        <div class="note">${d.note || "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"}</div>
      </div>`;
  });
}
render();
</script>

</body>
</html>
